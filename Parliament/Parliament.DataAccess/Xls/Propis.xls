<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns="http://www.w3.org/1999/xhtml" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:parliament="http://www.parliament.rs/schema" version="1.0">

    <xsl:template match="/">
        <html>
            <head>
                <meta charset="UTF-8"/>
            </head>
            <body style="font-family: Calibri">
                <div style="text-align: center; margin-bottom: 15px">
                    <img src="https://www.google.rs/url?sa=i&rct=j&q=&esrc=s&source=images&cd=&cad=rja&uact=8&ved=0ahUKEwixisvUn6rNAhWCVxQKHcD1AMgQjRwIBw&url=http%3A%2F%2Fdiplomske.com%2Fkategorija%2Funiverzitet%2Funiverzitet-u-novom-sadu%2Ffakultet-tehnickih-nauka%2F&psig=AFQjCNEb2K00F6A7LPvhgbcRWktxxKufqQ&ust=1466087494925893" height="96" width="96"/>
                </div>

                <xsl:apply-templates select="//parliament:Preambula"/>
                <h2 style="text-align: center">
                    <xsl:value-of select="parliament:Propis/NazivPropisa"/>
                </h2>
                <xsl:apply-templates select="parliament:Propis/*[not(self::parliament:Preambula)] "/>
            </body>
        </html>
    </xsl:template>

    <!-- Preambula -->
    <xsl:template match="parliament:Preambula">
        <p>
            <xsl:value-of select="."/>
        </p>
    </xsl:template>

    <!-- Deo -->
    <xsl:template match="parliament:Deo">
        <h3 style="text-align: center">
            <xsl:value-of select="NazivDela"/>
        </h3>
        <xsl:choose>
            <xsl:when test="count(parliament:Glava) &gt; 0">
                <ol>
                    <xsl:apply-templates select="parliament:Glava"/>
                </ol>
            </xsl:when>
            <xsl:otherwise>
                <xsl:apply-templates select="parliament:Clan"/>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Glava -->
    <xsl:template match="parliament:Glava">
        <h3 style="text-align: center">
            <xsl:value-of select="NazivGlave"/>
        </h3>
        <xsl:choose>
            <xsl:when test="count(parliament:Odeljak) &gt; 0">
                <xsl:apply-templates select="parliament:Odeljak"/>
            </xsl:when>
            <xsl:when test="count(parliament:Pododeljak) &gt; 0">
                <xsl:apply-templates select="parliament:Pododeljak"/>
            </xsl:when>
            <xsl:when test="count(parliament:Clan) &gt; 0">
                <xsl:apply-templates select="parliament:Clan"/>
            </xsl:when>
            <xsl:otherwise/>
        </xsl:choose>
    </xsl:template>

    <!-- Odeljak -->
    <xsl:template match="parliament:Odeljak">
        <h3 style="text-align: center">
            <xsl:value-of select="NazivOdeljka"/>
        </h3>
        <xsl:choose>
            <xsl:when test="count(parliament:Pododeljak) &gt; 0">
                <xsl:apply-templates select="parliament:Pododeljak"/>
            </xsl:when>
            <xsl:otherwise>
                <xsl:apply-templates select="parliament:Clan"/>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Pododeljak -->
    <xsl:template match="parliament:Pododeljak">
        <h3 style="text-align: center">
            <xsl:value-of select="NazivPododeljka"/>
        </h3>
        <xsl:apply-templates select="parliament:Clan"/>
    </xsl:template>

    <!-- Clan -->
    <xsl:template match="parliament:Clan">
        <div>
            <xsl:attribute name="Id">
                <xsl:value-of select="@Id"/>
            </xsl:attribute>

             <!--Add modify link 
            <xsl:choose>
                <xsl:when test="@modify">
                    <a>
                        <xsl:attribute name="href">
                            <xsl:value-of select="@modify"/>
                        </xsl:attribute>
                        <div style="text-align: center">Modify</div>
                    </a>
                </xsl:when>
            </xsl:choose>-->

            <h3 style="text-align: center">
                Član <xsl:value-of select="@RedniBroj+1"/>.
            </h3>
            <xsl:choose>
                <xsl:when test="count(parliament:Stav) &gt; 0">
                    <xsl:apply-templates select="parliament:Stav"/>
                </xsl:when>
                <xsl:otherwise>
                    <xsl:value-of select="."/>
                </xsl:otherwise>
            </xsl:choose>
        </div>
    </xsl:template>

    <!-- Stav -->
    <xsl:template match="parliament:Stav">
        <p>
            <xsl:value-of select="parliament:TeksualniSadrzaj"/>
        </p>
        <xsl:choose>
            <xsl:when test="count(parliament:Tacka) &gt; 0">
                <ol>
                    <xsl:apply-templates select="parliament:Tacka"/>
                </ol>
            </xsl:when>
            <xsl:otherwise>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tacka -->
    <xsl:template match="parliament:Tacka">
        <xsl:choose>
            <xsl:when test="count(parliament:Podtacka) &gt; 0">
                <xsl:apply-templates select="parliament:Podtacka"/>
            </xsl:when>
            <xsl:otherwise>
                <li>
                    <xsl:value-of select="."/>
                </li>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Podtacka -->
    <xsl:template match="parliament:Podtacka">
        <xsl:choose>
            <xsl:when test="count(parliament:Alineja) &gt; 0">
                <ol>
                    <xsl:apply-templates select="parliament:Alineja"/>
                </ol>
            </xsl:when>
            <xsl:otherwise>
                <ol>
                    <xsl:value-of select="."/>
                </ol>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Alineja -->
    <xsl:template match="parliament:Alineja">
        <li>
            <xsl:value-of select="."/>
        </li>
    </xsl:template>
</xsl:stylesheet>
